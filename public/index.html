<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>üöö –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∞–º–∏</title>
    <link rel="stylesheet" href="styles.css?v=4">
    <style>
        /* –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω */
        .modal { 
            display: none !important; 
            visibility: hidden !important;
            opacity: 0 !important;
            position: fixed !important;
            top: -9999px !important;
            left: -9999px !important;
        }
        .modal.show { 
            display: flex !important; 
            visibility: visible !important;
            opacity: 1 !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
            z-index: 1000 !important;
            background: rgba(0, 0, 0, 0.5) !important;
            align-items: center !important;
            justify-content: center !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöö –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∞–º–∏ <span id="release-time" class="release-time"></span></h1>
            <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –¥–æ—Å—Ç–∞–≤–∫–∏, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç—É—Å—ã</p>
        </header>

        <div class="controls">
            <button id="add-delivery-btn" class="btn btn-primary">
                ‚ûï –î–æ–±–∞–≤–∏—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É
            </button>
            <button id="optimize-route-btn" class="btn btn-success" disabled>
                üó∫Ô∏è –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç
            </button>
            <span id="selected-count" class="selected-info">–í—ã–±—Ä–∞–Ω–æ: 0 –¥–æ—Å—Ç–∞–≤–æ–∫</span>
        </div>

        <div class="table-container">
            <table id="deliveries-table" class="deliveries-table">
                <thead>
                    <tr>
                        <th><input type="checkbox" id="select-all"></th>
                        <th>‚Ññ –î–æ—Å—Ç–∞–≤–∫–∏</th>
                        <th>–ê–¥—Ä–µ—Å</th>
                        <th>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                        <th>–û–±—ä–µ–º (–º¬≥)</th>
                        <th>–ù–∞ —Ç–æ—á–∫–µ (–º–∏–Ω)</th>
                        <th>‚Ññ –ú–∞—Ä—à—Ä—É—Ç–∞</th>
                    </tr>
                </thead>
                <tbody id="deliveries-tbody">
                    <!-- –°—Ç—Ä–æ–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê –°–ö–†–´–¢–´ -->
    <div id="delivery-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –¥–æ—Å—Ç–∞–≤–∫—É</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="delivery-address">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                    <input type="text" id="delivery-address" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–æ—Å–∫–≤–∞, —É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, 1">
                    <div id="address-coordinates" class="coordinates-display"></div>
                    <div id="address-error" class="error-message"></div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="delivery-volume">–û–±—ä–µ–º (–º¬≥):</label>
                        <input type="number" id="delivery-volume" step="0.1" min="0" value="1.0">
                    </div>
                    <div class="form-group">
                        <label for="delivery-time">–í—Ä–µ–º—è –Ω–∞ —Ç–æ—á–∫–µ (–º–∏–Ω):</label>
                        <input type="number" id="delivery-time" min="1" value="15">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-delivery" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                <button id="save-delivery" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="route-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üó∫Ô∏è –ú–∞—Ä—à—Ä—É—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div id="route-info">
                    <div class="route-summary">
                        <div class="summary-item">
                            <span class="label">–ù–æ–º–µ—Ä –º–∞—Ä—à—Ä—É—Ç–∞:</span>
                            <span id="route-number" class="value"></span>
                        </div>
                        <div class="summary-item">
                            <span class="label">–î–æ—Å—Ç–∞–≤–æ–∫ –≤ –º–∞—Ä—à—Ä—É—Ç–µ:</span>
                            <span id="deliveries-count" class="value"></span>
                        </div>
                        <div class="summary-item">
                            <span class="label">–û–±—â–µ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ:</span>
                            <span id="total-distance" class="value"></span>
                        </div>
                        <div class="summary-item">
                            <span class="label">–û–±—â–µ–µ –≤—Ä–µ–º—è:</span>
                            <span id="total-duration" class="value"></span>
                        </div>
                    </div>
                    <div class="route-steps">
                        <h4>–ü–æ—Ä—è–¥–æ–∫ –¥–æ—Å—Ç–∞–≤–æ–∫:</h4>
                        <div id="route-steps-list"></div>
                    </div>
                    <div class="route-actions">
                        <button id="open-yandex-maps" class="btn btn-success">üó∫Ô∏è –û—Ç–∫—Ä—ã—Ç—å –≤ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞—Ö</button>
                        <button id="copy-route-link" class="btn btn-secondary">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
                    </div>
                </div>
                <div id="route-error" class="error-message"></div>
            </div>
        </div>
    </div>

    <div id="loader" class="loader hidden">
        <div class="spinner"></div>
        <p>–û–±—Ä–∞–±–æ—Ç–∫–∞...</p>
    </div>

    <script>
        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è —Ä–µ–ª–∏–∑–∞
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            
            const releaseTime = `${day}.${month} ${hours}:${minutes}:${seconds}`;
            document.getElementById('release-time').textContent = `(—Ä–µ–ª–∏–∑: ${releaseTime})`;
        });
    </script>
    <script src="script.js?v=4"></script>
</body>
</html> 